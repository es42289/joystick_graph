<!DOCTYPE html>
<html>
    {% load static %}
<head>
    <title>Joystick Graph</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/luxon@3.4.3/build/global/luxon.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-luxon@1.3.1/dist/chartjs-adapter-luxon.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/nipplejs/0.9.0/nipplejs.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body style="margin: 0; padding: 0; height: 100vh; width: 100vw; overflow: hidden; position: relative;">
    <canvas id="graph" style="display: block; height: 100vh; width: 100vw;"></canvas>

    <!-- Bottom left corner: qi / x -->
    <div id="touch-origin" style="
        position: absolute;
        bottom: 2vh;
        left: 2vw;
        width: 20vw;
        height: 20vw;
        max-width: 140px;
        max-height: 140px;
        background: rgba(0, 0, 255, 0.07);
        border: 2px solid rgba(0, 0, 255, 0.3);
        border-radius: 50%;
        backdrop-filter: blur(2px);
        z-index: 999;
    "></div>

    <!-- Bottom right corner: Di / b -->
    <div id="touch-slope" style="
        position: absolute;
        bottom: 2vh;
        right: 2vw;
        width: 20vw;
        height: 20vw;
        max-width: 140px;
        max-height: 140px;
        background: rgba(255, 0, 0, 0.07);
        border: 2px solid rgba(255, 0, 0, 0.3);
        border-radius: 50%;
        backdrop-filter: blur(2px);
        z-index: 999;
    "></div>
    <!-- Label for left (origin) zone -->
    <div style="
        position: absolute;
        bottom: 20vh;
        left: 7vw;
        color: #00f;
        font-size: 24px;
        font-weight: bold;
        z-index: 1001;
    ">
    <!-- ↕ qᵢ<br>↔ x -->
    ↕ qᵢ
    </div>

    <!-- Label for right (slope) zone -->
    <div style="
        position: absolute;
        bottom: 20vh;
        right: 6vw;
        color: #f00;
        font-size: 24px;
        font-weight: bold;
        text-align: right;
        z-index: 1001;
    ">
    ↕ Dᵢ    ↔ b
    </div>
    <div id="stats-box" style="
        position: absolute;
        top: 20px;
        right: 20px;
        background: rgba(255,255,255,0.9);
        border: 1px solid #ccc;
        border-radius: 8px;
        padding: 10px 15px;
        font-family: monospace;
        font-size: 14px;
        z-index: 1000;">
      qᵢ: 0<br>Dᵢ: 0<br>b: 0
    </div>
  
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/luxon@3.4.3/build/global/luxon.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-luxon@1.3.1/dist/chartjs-adapter-luxon.umd.min.js"></script>
    <script src="{% static 'graph/chart.js' %}"></script>
    <script src="{% static 'graph/joystick.js' %}"></script>
  </body>  

</html>
